---
title: "My Frequent CLI Commands"
date: 2022-06-03T22:22:39+05:00
draft: true
---

На этой странице собираю команды, которые использую в командной
строке. Но и их достаточно много, что решил для себя делать заметки,
к которым можно быстро вернуться и вспомнить.

Данный список не претендует на энциклопедию или подробный гайд по
командам. Но может и тебе пригодиться :)

{{< callout type="info" >}}
Команды совместимы с командными оболочками bash, zsh, fish. И можно
использовать в Linux, macOS, wsl (Windows).

Часть утилит в macOs по умолчанию не найдете, устанавливайте через
<a href="https://brew.sh" target="_blank">brew.sh</a>, а в Linux или
wsl через ваш пакетный менеджер.
{{< /callout >}}

## Работа с файлами

### Поиск файлов через find

<div style="font-family: monospace, fixed; font-weight: bold;">
<span style="">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><br />
<span style="">&#160;&#160;&#160;&#160;&#9604;&#9604;&#9604;&#9604;&#160;&#160;&#160;&#160;&#160;&#160;&#9608;&#9608;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#9604;&#9604;&#160;</span><br />
<span style="">&#160;&#160;&#160;&#9608;&#9608;&#9600;&#9600;&#9600;&#160;&#160;&#160;&#160;&#160;&#160;&#9600;&#9600;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#9608;&#9608;&#160;</span><br />
<span style="">&#160;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#160;&#160;&#160;&#160;&#9608;&#9608;&#9608;&#9608;&#160;&#160;&#160;&#160;&#160;&#9608;&#9608;&#9604;&#9608;&#9608;&#9608;&#9608;&#9604;&#160;&#160;&#160;&#9604;&#9608;&#9608;&#9608;&#9604;&#9608;&#9608;&#160;</span><br />
<span style="">&#160;&#160;&#160;&#9608;&#9608;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#9608;&#9608;&#160;&#160;&#160;&#160;&#160;&#9608;&#9608;&#9600;&#160;&#160;&#160;&#9608;&#9608;&#160;&#160;&#9608;&#9608;&#9600;&#160;&#160;&#9600;&#9608;&#9608;&#160;</span><br />
<span style="">&#160;&#160;&#160;&#9608;&#9608;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#9608;&#9608;&#160;&#160;&#160;&#160;&#160;&#9608;&#9608;&#160;&#160;&#160;&#160;&#9608;&#9608;&#160;&#160;&#9608;&#9608;&#160;&#160;&#160;&#160;&#9608;&#9608;&#160;</span><br />
<span style="">&#160;&#160;&#160;&#9608;&#9608;&#160;&#160;&#160;&#160;&#160;&#160;&#9604;&#9604;&#9604;&#9608;&#9608;&#9604;&#9604;&#9604;&#160;&#160;&#9608;&#9608;&#160;&#160;&#160;&#160;&#9608;&#9608;&#160;&#160;&#9600;&#9608;&#9608;&#9604;&#9604;&#9608;&#9608;&#9608;&#160;</span><br />
<span style="">&#160;&#160;&#160;&#9600;&#9600;&#160;&#160;&#160;&#160;&#160;&#160;&#9600;&#9600;&#9600;&#9600;&#9600;&#9600;&#9600;&#9600;&#160;&#160;&#9600;&#9600;&#160;&#160;&#160;&#160;&#9600;&#9600;&#160;&#160;&#160;&#160;&#9600;&#9600;&#9600;&#160;&#9600;&#9600;&#160;</span><br />
<span style="">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><br />
<span style="">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>
</div>

Поиск без условий выведет все файлы в текущей директории
и всех поддиректорий:

```bash
find .
```

Поиск по точному названию файла во всех поддиректориях,
начиная с текущего расположения:

```bash
find . -iname file.txt
```

{{< callout type="info" >}}
Такой поиск ищет сразу и совпадение директорий и файлов
{{< /callout >}}

Замечание, если использовать параметр `-name`, то будет
поиск с учетом регистра:

```bash
find . -name file.txt
```

`-iname` ищет без учета регистра, это мне чаще удобнее, так
как удобно все писать в нижнем регистре.

---

Поиск по части названия файла, например все файлы с расширением
jpg. В этом случае, поисковый запрос надо заключить в двойные
кавычки:

```bash
find . -iname "*.jpg"
```

или по началу названия файла или директории:

```bash
find . -iname "java_*"
```

Для поиска только директорий, используется параметр `-type`
со значение `d`:

```bash
find . -iname src -type d
```

Только файлы, используется параметр `-type`
со значение `f`:

```bash
find . -iname "*.java" -type f
```

---

Для инвертирования критерия поиска, используй префикс аргумент `-not`,
например, найти все файлы кроме .css:

```bash
find . -not -iname "*.css" -type f
```

Обычно использую not совместно с обычным параметром. В таком случае not
отсеивает ложные результаты. Для примера надо найти все файлы содержащие
в имени style, но не CSS:

```bash
find . -iname "style*" -not -iname "*.css" -type f
```

Повторяющиеся параметры name/iname работают по логической схеме И, то
есть, если напишешь такой запрос:

```bash
find . -iname "*.png" -iname "*.jpg" -type f
```

то ничего не найдется, так как файл не может сразу заканчиваться
на png и на jpg.

Если надо сделать поиск через ИЛИ, чтобы найти все файлы с
расширениями png и jpg используй аргумент `-or`:

```bash
find . -iname "*.png" -or -iname "*.jpg" -type f
```

---

Еще кроме поиска по имени использую поиск по дате изменения
файла через параметр `-mtime`. Например, надо найти в проекте что изменилось за последние
пять минут:

```bash
find . -type f -mtime -5m
```

Если значение параметра `-mtime` отрицательное - то будут найденные файлы
измененные за указанный период. Если указать просто `-mtime -10`, то
найдет файлы измененные за последние 10 дней. Для минут указывай `m`, для часов
`h`.

А вот если напишешь так:

```bash
find . -type f -mtime +3
```

То вернет тебе файлы, изменения в которых было ранее трех дней назад.
Остальное по аналогии.

✦✧✦

И еще редко использую ограничение по глубине вложенных папок, но редко.
Только когда реально бездонная глубина вложенности и я уверен - мои
файлы не поверхности. Ограничить поиск только в текущей директории:

```bash
find . -maxdepth 1
```

И каждый +1 к значению максимальной глубины добавляет еще одну поддиректорию
на пути поиска.
